<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulário</title>
</head>
<body>
    <h1>Sudestão</h1>
    <form>
        <input type="text" name="item-name" id="item-name">
        <input type="button" class="add-btn" value="Limpeza">
        <input type="button" class="add-btn" value="Frutas">
        <input type="button" class="add-btn" value="Mercearia">
        <input type="button" class="add-btn" value="Congelados">

    </form>

    <h3>Lista de compras:</h3>
    <!-- carregar lista de compras aqui com base nas categorias -->
    <div id="listas">

    </div>

    <script>
        let listaCompras = []
        document.addEventListener('DOMContentLoaded', ()=>{
            document.querySelectorAll('.add-btn').forEach((item)=>{
                item.addEventListener('click', (e)=>{
                    const categoria = e.target.value
                    const texto = document.getElementById('item-name').value
                    if(texto){
                        addItem(texto, categoria);
                        
                    }else{
                        alert('Insira um valor na caixa de texto:')
                    }
                })
            })
        })

        function addItem(nome, categoria){
            if(nome && categoria){
                listaCompras.push({nome, categoria})
                atualizarLista(listaCompras)
            }else{
                alert('Insira um nome e categoria válidos');
            }
        }

        function atualizarLista(lista){
            let div = document.getElementById('listas')
            div.innerHTML = ''
            if(lista){
                let categorias = []
                lista.forEach((item)=>{
                    console.log(item)
                    if(!categorias.includes(item.categoria)){
                        categorias.push(item.categoria)
                    }
                })
                console.log(categorias)
                categorias.forEach((item)=>{
                    const ol = document.createElement('ol')
                    
                    div.innerHTML += `<ol><ol>`
                })
            }
        }

        console.log(listaCompras)
    </script>
</body>
</html>